---
title: 015-正则表达式
date: 2023-03-10 20:39
updated: 2023-03-19 22:34
cover: //cdn.wallleap.cn/img/post/1.jpg
image-auto-upload: true
author: Luwang
comments: true
aliases:
  - 015-正则表达式
rating: 1
tags:
  - JavaScript
category: web
keywords:
  - 关键词1
  - 关键词2
  - 关键词3
description: 文章描述
source: null
url: //myblog.wallleap.cn/post/1
---

## 作用

- 把符合某种规则的字串拿出来
- 判断字符串是否符合某种规则
- 按某种规则分割字符串
- 替换符合某种规则的字串

例如：校验用户输入（邮箱、手机号、密码、身份证号等）

## 创建正则

第一种，**字面量**方式

```js
let reg = /+86\d{11}/g
```

第二种，**构造函数**方式创建（有变量的时候用这种方式）

```js
let name = "wallleap"
let reg = new RegExp('www.'+name+'.com', 'g')
```

匹配的参数

- `g`：global，全文搜索，不添加的话搜索到第一个结果停止搜索
- `i`：ingore case，忽略大小写，默认大小写敏感
- `m`：multiple lines，多行搜索

## 简单用法

在**正则**上用

```js
let reg = /hello/
reg.test('hello world')  // true
```

- 使用 `test` 看字符串是否符合这个规则
- 返回布尔值代表是否匹配到了

在**字符串**上用

```js
let str = 'hello1 world, hello2 wallleap'
str.search(/hello\d/)  // 0
str.match(/hello\d/g)  // ['hello1', 'hello2']
str.replace(/hello\d/g, 'hi')  // 'hi world, hi wallleap'
str.split(/\s/)  // 
```

- 查找、匹配、替换、分割等字符串方法
- 返回方法相应的内容

## 专用字符

具有特殊意义的字符

```js
( [ { \ ^ % | } ] ) ? * + .
```

如果要匹配这些特殊字符，需要使用 `\` 进行转义，例如 `\.`

## 正则单字符匹配

用 `[]` 包裹表示匹配里面的任意一个（只代表**一个**字符）

| 代码         | 含义                              |
| ---------- | ------------------------------- |
| `[abcd]`   | 匹配一个字符，是 `a`、`b`、`c`、`d` 中的任意一个 |
| `[0-9]`    | 匹配一个是 0 到 9 的数字                 |
| `[a-zA-Z]` | 匹配一个不限制大小写的字母                   |
| `[^abc]`   | 表示一个不是字符 `a` 或 `b` 或 `c` 的字符    |

## 预定义匹配

自带的匹配**一个**字符的方式，就不需要使用 `[...]` 一大堆去写

| 代码   | 含义                                   |
| ---- | ------------------------------------ |
| `.`  | 等价于 `[^\r\n]`，匹配一个除回车和换行以外的任意字符      |
| `\d` | 等价于 `[0-9]`，匹配一个数字字符                 |
| `\D` | 等价于 `[^0-9]`，匹配一个非数字字符               |
| `\s` | 等价于 `[空格\t\n\r\v\f]`，匹配一个空白字符        |
| `\S` | 等价于 `[^空格\t\n\r\v\f]`，匹配一个非空白字符      |
| `\w` | 等价于 `[a-zA-Z_0-9]`，匹配一个字母、数字、下划线（单词） |
| `\W` | 等价于 `[^a-zA-Z_0-9]`，匹配一个非单词字符        |

## 0 个或多个

| 代码      | 含义               |
| ------- | ---------------- |
| `?`     | 前面的字符出现 0 次或 1 次 |
| `+`     | 前面的字符出现 1 次或多次   |
| `*`     | 前面的字符出现 0 次或多次   |
| `{n}`   | 前面的字符出现 n 次      |
| `{n,m}` | 前面的字符出现 n 到 m 次  |
| `{n,}`  | 前面的字符出现至少 n 次    |

## 边界

| 代码          | 含义                               |
| ----------- | -------------------------------- |
| `/^xyz/`    | 以 xyz 开头                         |
| `/abc$/`    | 以 abc 结尾                         |
| `/\befg\b/` | 匹配是单词的 efg（左右两侧是字符串开头、结尾、中横线、空格） |
| `/\Befg\B/` | 匹配不是单词的 efg                      |

## 贪婪模式 vs. 非贪婪模式

- 默认是**贪婪**模式，即尽可能**长/多**得匹配
- 如果想使用非贪婪模式，可以在量词后加 `?`

## 分组

- 用于把匹配的部分取出
- 一般搭配下面的方法
	- `.match`
	- `.matchAll`
